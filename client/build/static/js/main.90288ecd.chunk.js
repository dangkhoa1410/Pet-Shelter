(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{26:function(e,t,c){},27:function(e,t,c){},53:function(e,t,c){"use strict";c.r(t);var s=c(0),n=c(1),l=c.n(n),a=c(19),r=c.n(a),i=(c(26),c(27),c(2)),o=(c(34),c(7)),j=c(6),d=c(3),b=c(5),m=c.n(b),h=function(e){return Object(s.jsxs)("div",{className:"row-sm-6",children:[Object(s.jsx)("div",{className:"row-sm-6",children:Object(s.jsx)("div",{className:"row-sm-6",children:Object(s.jsxs)("div",{className:"col-sm-2 d-flex justify-content-between",children:[Object(s.jsx)(i.a,{to:"/",children:Object(s.jsx)("h5",{children:"Home"})}),Object(s.jsx)("span",{children:" | "}),Object(s.jsx)(i.a,{to:"/pets/add",children:Object(s.jsx)("h5",{children:"Add pet"})})]})})}),Object(s.jsx)("div",{className:"row ml-2 mt-4 mb-4",children:Object(s.jsx)("h5",{children:"Enter your new pet here"})}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col-sm-6",children:Object(s.jsxs)("form",{onSubmit:e.onSubmitHandler,children:[Object(s.jsxs)("div",{className:"col",children:[Object(s.jsxs)("div",{className:"form-group row",children:[Object(s.jsx)("label",{htmlFor:"name",className:"col-sm-2 col-form-label",children:"Pet Name"}),Object(s.jsx)("input",{type:"text",name:"name",onChange:e.onChangeHandler,value:e.form.name})]}),Object(s.jsx)("span",{}),e.error.name?Object(s.jsxs)("div",{className:"text-danger offset-2",children:[" ",e.error.name.message]}):"",Object(s.jsxs)("div",{className:"form-group row",children:[Object(s.jsx)("label",{htmlFor:"type",className:"col-sm-2 col-form-label",children:"Type"}),Object(s.jsx)("input",{type:"text",name:"type",onChange:e.onChangeHandler,value:e.form.type})]}),e.error.type?Object(s.jsxs)("div",{className:"text-danger offset-2",children:[" ",e.error.type.message]}):"",Object(s.jsxs)("div",{className:"form-group row",children:[Object(s.jsx)("label",{htmlFor:"descrption",className:"col-sm-2 col-form-label",children:"Description"}),Object(s.jsx)("input",{type:"text",name:"description",onChange:e.onChangeHandler,value:e.form.description})]}),e.error.description?Object(s.jsxs)("div",{className:"text-danger offset-2",children:[" ",e.error.description.message]}):""]}),Object(s.jsxs)("div",{className:"col",children:[Object(s.jsx)("h4",{children:"Skills: (Optional)"}),Object(s.jsxs)("div",{className:"form-group row",children:[Object(s.jsx)("label",{htmlFor:"skill1",className:"col-sm-2 col-form-label",children:"Skill 1"}),Object(s.jsx)("input",{type:"text",name:"skill1",onChange:e.onChangeHandler,value:e.form.skill1})]}),Object(s.jsx)("span",{}),Object(s.jsxs)("div",{className:"form-group row",children:[Object(s.jsx)("label",{htmlFor:"skill2",className:"col-sm-2 col-form-label",children:"Skill 2"}),Object(s.jsx)("input",{type:"text",name:"skill2",onChange:e.onChangeHandler,value:e.form.skill2})]}),Object(s.jsxs)("div",{className:"form-group row",children:[Object(s.jsx)("label",{htmlFor:"skill3",className:"col-sm-2 col-form-label",children:"Skill 3"}),Object(s.jsx)("input",{type:"text",name:"skill3",onChange:e.onChangeHandler,value:e.form.skill3})]})]}),Object(s.jsx)("button",{type:"submit",className:"btn btn-success mt-2",disabled:e.disabled,children:"Add pet"})]})})})]})},O=function(e){var t=Object(n.useState)({name:"",type:"",description:"",skill1:"",skill2:"",skill3:""}),c=Object(d.a)(t,2),l=c[0],a=c[1],r=Object(n.useState)({}),b=Object(d.a)(r,2),O=b[0],u=b[1],p=Object(n.useState)(""),x=Object(d.a)(p,2),f=(x[0],x[1]),g=Object(n.useState)(!1),v=Object(d.a)(g,2),N=v[0],k=v[1],y=Object(n.useState)(null),w=Object(d.a)(y,2),S=w[0],C=w[1],E=function(e){return m.a.get("http://localhost:8000/api/pet/name/".concat(e)).then((function(e){return C(e.data.onePet)})).catch((function(e){return console.log("Error getting a pet",e)})),!S};return Object(s.jsx)(h,{onSubmitHandler:function(e){e.preventDefault();var t=l.name;console.log("Name",t),console.log(S),console.log(E),E(t)?m.a.post("http://localhost:8000/api/pet/new",l).then((function(e){e.data.error?(u(e.data.error.errors),k(!0),console.log("Error adding pet",e.data.error.errors)):(a({name:"",type:"",description:"",skill1:"",skill2:"",skill3:""}),Object(i.c)("/"))})):(f("Name must be unique!"),Object(i.c)("/pets/add"))},onChangeHandler:function(e){k(!1),a(Object(j.a)(Object(j.a)({},l),{},Object(o.a)({},e.target.name,e.target.value)))},form:l,error:O,disabled:N})},u=function(e){var t=Object(n.useState)(null),c=Object(d.a)(t,2),l=c[0],a=c[1],r=Object(n.useState)("http://localhost:8000/api/pet/"),o=Object(d.a)(r,2),j=o[0],b=o[1];Object(n.useEffect)((function(){m.a.get(j).then((function(e){return a(e.data.allPet)})).catch((function(e){return console.log("Error getting all pets",e)}))}),[l]);var h=function(e){e.preventDefault(),Object(i.c)("/pets/".concat(e.target.value,"/edit"))},O=function(e){e.preventDefault(),Object(i.c)("/pets/".concat(e.target.value))};return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("div",{className:"row-sm-6",children:[Object(s.jsxs)("div",{className:"row d-flex justify-content-between p-4",children:[Object(s.jsx)("h3",{children:"These pets are looking for a good home"}),Object(s.jsxs)("div",{children:[Object(s.jsx)("button",{onClick:function(e){e.preventDefault(),b("http://localhost:8000/api/pet/sort/type")},className:"btn btn-primary mx-2",children:"Sort Pet"}),Object(s.jsx)("button",{onClick:function(e){Object(i.c)("/pets/new")},className:"btn btn-primary mx-2",children:"Add a Pet"})]})]}),Object(s.jsxs)("table",{className:"table table-striped table-bordered centered",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"col",children:"Name"}),Object(s.jsx)("th",{scope:"col",children:"Type"}),Object(s.jsx)("th",{scope:"col",children:"Action"})]})}),Object(s.jsx)("tbody",{children:l?l.map((function(e,t){return Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:e.name}),Object(s.jsx)("td",{children:e.type}),Object(s.jsxs)("td",{children:[Object(s.jsx)("button",{className:"btn btn-primary mx-1",value:e._id,name:e.name,onClick:O,children:"Detail"}),Object(s.jsx)("button",{className:"btn btn-primary mx-1",value:e._id,name:e.name,onClick:h,children:"Edit"})]})]},t)})):Object(s.jsx)("tr",{})})]})]})})},p=function(e){var t=Object(n.useState)({name:"",type:"",description:"",skill1:"",skill2:"",skill3:""}),c=Object(d.a)(t,2),l=c[0],a=c[1],r=Object(n.useState)({}),b=Object(d.a)(r,2),O=b[0],u=b[1],p=Object(n.useState)(!1),x=Object(d.a)(p,2),f=x[0],g=x[1];Object(n.useEffect)((function(){m.a.get("http://localhost:8000/api/pet/".concat(e.id)).then((function(e){return a(e.data.onePet)})).catch((function(e){return console.log("Error getting a pet",e)}))}),[]);return Object(s.jsx)(h,{onSubmitHandler:function(t){t.preventDefault(),m.a.put("http://localhost:8000/api/pet/update/".concat(e.id),l).then((function(e){e.data.error?(u(e.data.error.errors),g(!0),console.log("Error updating a pet",O)):(a({name:"",type:"",description:"",skill1:"",skill2:"",skill3:""}),Object(i.c)("/"))}))},onChangeHandler:function(e){g(!1),a(Object(j.a)(Object(j.a)({},l),{},Object(o.a)({},e.target.name,e.target.value)))},form:l,error:O,disabled:f})},x=function(e){var t=Object(n.useState)({}),c=Object(d.a)(t,2),l=c[0],a=c[1],r=Object(n.useState)(!0),b=Object(d.a)(r,2),h=b[0],O=b[1];Object(n.useEffect)((function(){m.a.get("http://localhost:8000/api/pet/".concat(e.id)).then((function(e){return a(e.data.onePet)})).catch((function(e){return console.log("Error getting a pet",e)}))}),[]),Object(n.useEffect)((function(){m.a.put("http://localhost:8000/api/pet/update/".concat(e.id),l)}),[h]);return Object(s.jsx)("div",{children:l?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("div",{className:"inline-group mb-2",children:[Object(s.jsxs)("h3",{children:["Detail about: ",l.name]}),Object(s.jsx)("button",{onClick:function(e){Object(i.c)("/")},className:"btn btn-success mx-1 ",children:"Home"}),Object(s.jsxs)("button",{onClick:function(t){t.preventDefault(),m.a.delete("http://localhost:8000/api/pet/delete/".concat(e.id)),Object(i.c)("/")},className:"btn btn-danger mx-4",children:["Adopt ",l.name]})]}),Object(s.jsxs)("div",{className:"border p-4",children:[Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-sm-2",children:Object(s.jsx)("h5",{children:"Pet Type:"})}),Object(s.jsx)("div",{className:"col-sm-2",children:Object(s.jsx)("p",{children:l.type})})]}),Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-sm-2",children:Object(s.jsx)("h5",{children:"Description:"})}),Object(s.jsx)("div",{className:"col-sm-2",children:Object(s.jsx)("p",{children:l.description})})]}),Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-sm-2",children:Object(s.jsx)("h5",{children:"Skills:"})}),Object(s.jsx)("div",{className:"col-sm-2",children:Object(s.jsx)("p",{children:l.skill1})})]}),Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-sm-2",children:Object(s.jsx)("h5",{})}),Object(s.jsx)("div",{className:"col-sm-2",children:Object(s.jsx)("p",{children:l.skill2})})]}),Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-sm-2",children:Object(s.jsx)("h5",{})}),Object(s.jsx)("div",{className:"col-sm-2",children:Object(s.jsx)("p",{children:l.skill3})})]}),Object(s.jsxs)("button",{className:"btn btn-success",name:"like",onClick:function(e){console.log("current count",l.count),a(Object(j.a)(Object(j.a)({},l),{},Object(o.a)({},e.target.name,l.like+1))),O(!h)},children:["Like ",l.name]}),Object(s.jsxs)("span",{children:[" ",l.like," like(s)"]})]})]}):""})};var f=function(){return Object(s.jsxs)("div",{className:"container-fluid",children:[Object(s.jsxs)("div",{className:"jumbotron",children:[Object(s.jsx)("h1",{children:"Pet Shelter"}),Object(s.jsx)("div",{className:"col-sm-3 d-flex justify-content-between"})]}),Object(s.jsxs)(i.b,{children:[Object(s.jsx)(u,{path:"/"}),Object(s.jsx)(O,{path:"/pets/new"}),Object(s.jsx)(x,{path:"/pets/:id"}),Object(s.jsx)(p,{path:"/pets/:id/edit"})]})]})},g=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,54)).then((function(t){var c=t.getCLS,s=t.getFID,n=t.getFCP,l=t.getLCP,a=t.getTTFB;c(e),s(e),n(e),l(e),a(e)}))};r.a.render(Object(s.jsx)(l.a.StrictMode,{children:Object(s.jsx)(f,{})}),document.getElementById("root")),g()}},[[53,1,2]]]);
//# sourceMappingURL=main.90288ecd.chunk.js.map